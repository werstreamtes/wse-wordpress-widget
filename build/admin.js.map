{"version":3,"file":"admin.js","mappings":"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","sources":["webpack://werstreamtes/./src/admin.scss","webpack://werstreamtes/external window \"React\"","webpack://werstreamtes/external window [\"wp\",\"api\"]","webpack://werstreamtes/external window [\"wp\",\"components\"]","webpack://werstreamtes/external window [\"wp\",\"data\"]","webpack://werstreamtes/external window [\"wp\",\"element\"]","webpack://werstreamtes/external window [\"wp\",\"notices\"]","webpack://werstreamtes/webpack/bootstrap","webpack://werstreamtes/webpack/runtime/compat get default export","webpack://werstreamtes/webpack/runtime/define property getters","webpack://werstreamtes/webpack/runtime/hasOwnProperty shorthand","webpack://werstreamtes/webpack/runtime/make namespace object","webpack://werstreamtes/./src/admin.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"React\"];","module.exports = window[\"wp\"][\"api\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"notices\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import api from \"@wordpress/api\";\nimport {Fragment, render, Component} from \"@wordpress/element\";\nimport {Button, Placeholder, Spinner, TextControl} from \"@wordpress/components\";\nimport {SnackbarList} from \"@wordpress/components\";\nimport {dispatch, useDispatch, useSelect} from \"@wordpress/data\";\nimport {store as noticesStore} from \"@wordpress/notices\";\n\nimport \"./admin.scss\";\n\n// This component displays the snackbar notices on the page\nconst Notices = () => {\n\t// `useSelect` is a hook provided by the `@wordpress/data` library for subscribing to data changes.\n\t// Here, it gets the notices from the notices store and filters out the ones that aren't of type 'snackbar'\n\tconst notices = useSelect(\n\t\t(select) =>\n\t\t\tselect(noticesStore)\n\t\t\t\t.getNotices()\n\t\t\t\t.filter((notice) => notice.type === \"snackbar\"),\n\t\t[]\n\t);\n\n\t// `useDispatch` is another hook from `@wordpress/data` that returns an object with functions to dispatch actions to the store.\n\t// Here, it gets the `removeNotice` function from the notices store.\n\tconst {removeNotice} = useDispatch(noticesStore);\n\n\t// Renders a `SnackbarList` component from `@wordpress/components` with the filtered notices and the `removeNotice` function.\n\treturn (\n\t\t<SnackbarList\n\t\t\tclassName=\"edit-site-notices\"\n\t\t\tnotices={notices}\n\t\t\tonRemove={removeNotice}\n\t\t/>\n\t);\n};\n\nclass App extends Component {\n\n\t// Set initial state\n\tconstructor() {\n\t\tsuper(...arguments);\n\n\t\tthis.state = {\n\t\t\tpartnerToken: \"\",\n\t\t\tisAPILoaded: false,\n\t\t};\n\t}\n\n\t// After the component mounts, fetch settings and update state\n\tcomponentDidMount() {\n\t\tapi.loadPromise.then(() => {\n\t\t\t// Initialize settings model\n\t\t\tthis.settings = new api.models.Settings();\n\n\t\t\t// Get isAPILoaded from state\n\t\t\tconst {isAPILoaded} = this.state;\n\n\t\t\t// If API is not yet loaded, fetch settings and update state\n\t\t\tif (isAPILoaded === false) {\n\t\t\t\tthis.settings.fetch().then((response) => {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tpartnerToken: response[\"werstreamtes_widget_partner_token\"],\n\t\t\t\t\t\tisAPILoaded: true,\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\t// Render component\n\trender() {\n\n\t\t// Destructure state variables\n\t\tconst {\n\t\t\tpartnerToken,\n\t\t\tisAPILoaded,\n\t\t} = this.state;\n\n\t\t// If API is not yet loaded, display a placeholder with a spinner\n\t\tif (!isAPILoaded) {\n\t\t\treturn (\n\t\t\t\t<Placeholder>\n\t\t\t\t\t<Spinner/>\n\t\t\t\t</Placeholder>\n\t\t\t);\n\t\t}\n\n\t\t// Otherwise, display the settings form\n\t\treturn (\n\t\t\t<Fragment>\n\n\t\t\t\t<div className=\"wse-plugin__header\">\n\t\t\t\t\t<div className=\"wse-plugin__container\">\n\t\t\t\t\t\t<div className=\"wse-plugin__title\">\n\t\t\t\t\t\t\t<a href=\"https://www.werstreamt.es\" title=\"WerStreamt.es\" target=\"_blank\">\n\t\t\t\t\t\t\t\t<img alt=\"WerStreamt.es?\"\n\t\t\t\t\t\t\t\t\tsrc=\"/wp-content/plugins/werstreamtes/assets/WerStreamtEs.svg\"/>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"wse-plugin__main\">\n\t\t\t\t\t{/* Form input for partner token */}\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel=\"Partner Token\"\n\t\t\t\t\t\tonChange={(partnerToken) => this.setState({partnerToken})}\n\t\t\t\t\t\thelp=\"Wenn dir von WerStreamt.es ein Partner Token zugewiesen wurde, kannst du ihn hier eintragen. Sonst lass das Feld bitte leer.\"\n\t\t\t\t\t\tvalue={partnerToken}\n\t\t\t\t\t/>\n\t\t\t\t\t<Button className=\"button-primary\"\n\t\t\t\t\t\t\tonClick={() => {\n\n\t\t\t\t\t\t\t\t// Get partnerToken from state\n\t\t\t\t\t\t\t\tconst {\n\t\t\t\t\t\t\t\t\tpartnerToken,\n\t\t\t\t\t\t\t\t} = this.state;\n\n\t\t\t\t\t\t\t\t// Initialize settings model with new partnerToken and save\n\t\t\t\t\t\t\t\tconst settings = new api.models.Settings({\n\t\t\t\t\t\t\t\t\t[\"werstreamtes_widget_partner_token\"]: partnerToken\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tsettings.save();\n\n\t\t\t\t\t\t\t\t// Show success notice\n\t\t\t\t\t\t\t\tdispatch(\"core/notices\").createNotice(\n\t\t\t\t\t\t\t\t\t\"success\",\n\t\t\t\t\t\t\t\t\t\"Einstellungen erfolgreich gespeichert\",\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\ttype: \"snackbar\",\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\tSpeichern\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\n\t\t\t\t<small>\n\t\t\t\t\tIndem du das Widget in deine Webseite einfügst, akzeptierst du automatisch die damit\n\t\t\t\t\tverbundenen <a href=\"https://www.werstreamt.es/developers/widget/terms/\"\n\t\t\t\t\t\t\t\t   target=\"_blank\">Nutzungsbedingungen</a>.\n\t\t\t\t</small>\n\n\t\t\t\t<div className=\"wse-plugin__notices\">\n\t\t\t\t\t<Notices/>\n\t\t\t\t</div>\n\n\t\t\t</Fragment>\n\t\t)\n\t}\n}\n\n/**\n * This code adds an event listener that executes a callback function when the DOM is loaded.\n * The function checks for an element with ID \"widget-werstreamtes-settings\".\n * If such an element exists, it renders a React component called \"App\" into the element using the \"render\" function.\n */\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n\tconst htmlOutput = document.getElementById(\"widget-werstreamtes-settings\");\n\tif (htmlOutput) {\n\t\trender(\n\t\t\t<App/>,\n\t\t\thtmlOutput\n\t\t);\n\t}\n});\n"],"names":["api","Fragment","render","Component","Button","Placeholder","Spinner","TextControl","SnackbarList","dispatch","useDispatch","useSelect","store","noticesStore","Notices","notices","select","getNotices","filter","notice","type","removeNotice","createElement","className","onRemove","App","constructor","arguments","state","partnerToken","isAPILoaded","componentDidMount","loadPromise","then","settings","models","Settings","fetch","response","setState","href","title","target","alt","src","label","onChange","help","value","onClick","save","createNotice","document","addEventListener","htmlOutput","getElementById"],"sourceRoot":""}